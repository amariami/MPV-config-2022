//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC feature map 1
//!BIND LUMA
//!SAVE MODEL1
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(-0.0378998,-9.23647e-05,0.00115253,-0.0394039);
res += vec4(-0.004110247362405062, -0.05900493264198303, 0.005439874716103077, -0.014903511852025986) * float(LUMA_texOff(vec2(-2,-2)));
res += vec4( 0.01106107048690319, 0.06531159579753876, 0.04354999586939812, -0.02686997689306736) * float(LUMA_texOff(vec2(-2,-1)));
res += vec4( -0.027773432433605194, -0.03962138295173645, 0.033159539103507996, 0.027084268629550934) * float(LUMA_texOff(vec2(-2,0)));
res += vec4( -0.006242851726710796, 0.06214722618460655, 0.0008996307151392102, -0.015507991425693035) * float(LUMA_texOff(vec2(-2,1)));
res += vec4( -0.005883395671844482, -0.026141757145524025, -0.015115107409656048, -0.012110737152397633) * float(LUMA_texOff(vec2(-2,2)));
res += vec4( -0.028950978070497513, 0.0983625277876854, -0.08100844919681549, -0.0005213585682213306) * float(LUMA_texOff(vec2(-1,-2)));
res += vec4( -0.023139523342251778, -0.160381019115448, -0.003842123318463564, -0.029820533469319344) * float(LUMA_texOff(vec2(-1,-1)));
res += vec4( -0.4558439254760742, -0.03923138976097107, -0.38633978366851807, -0.08190343528985977) * float(LUMA_texOff(vec2(-1,0)));
res += vec4( 0.01594955287873745, -0.04521186277270317, 0.10554729402065277, -0.03407726809382439) * float(LUMA_texOff(vec2(-1,1)));
res += vec4( -0.03694525733590126, -0.04271109029650688, 0.006612081546336412, -0.007939704693853855) * float(LUMA_texOff(vec2(-1,2)));
res += vec4( 0.10785984247922897, 0.027846859768033028, 0.02192411944270134, 0.09660845994949341) * float(LUMA_texOff(vec2(0,-2)));
res += vec4( -0.0802496075630188, -0.6628701090812683, 0.13620460033416748, -0.2675648331642151) * float(LUMA_texOff(vec2(0,-1)));
res += vec4( 0.45239776372909546, 0.7852407693862915, 0.5609561204910278, 0.9191789031028748) * float(LUMA_texOff(vec2(0,0)));
res += vec4( -0.2087404578924179, 0.036982983350753784, -0.5888376832008362, -0.06662989407777786) * float(LUMA_texOff(vec2(0,1)));
res += vec4( 0.13600561022758484, 0.08202157914638519, 0.1419653445482254, 0.04549176245927811) * float(LUMA_texOff(vec2(0,2)));
res += vec4( 0.006890412885695696, 0.011249888688325882, 0.029573649168014526, -0.040510911494493484) * float(LUMA_texOff(vec2(1,-2)));
res += vec4( -0.048430200666189194, 0.07379157841205597, -0.1540490686893463, 0.006164399906992912) * float(LUMA_texOff(vec2(1,-1)));
res += vec4( 0.18648666143417358, -0.15146254003047943, 0.2137972116470337, -0.15252327919006348) * float(LUMA_texOff(vec2(1,0)));
res += vec4( 0.0436662994325161, -0.04040728136897087, -0.04370757192373276, -0.007313723675906658) * float(LUMA_texOff(vec2(1,1)));
res += vec4( -0.03045807220041752, -0.016593605279922485, -0.0104246586561203, -0.04741942137479782) * float(LUMA_texOff(vec2(1,2)));
res += vec4( 0.0010832434054464102, -0.006107895169407129, -0.011688128113746643, -0.01662481389939785) * float(LUMA_texOff(vec2(2,-2)));
res += vec4( 0.0067919595167040825, -0.033963218331336975, 0.0331881009042263, -0.010534049943089485) * float(LUMA_texOff(vec2(2,-1)));
res += vec4( 0.01930817775428295, 0.08310310542583466, -0.002236484782770276, 0.058221485465765) * float(LUMA_texOff(vec2(2,0)));
res += vec4( 0.013950024731457233, 0.016927851364016533, -0.0028492948040366173, -0.02100171148777008) * float(LUMA_texOff(vec2(2,1)));
res += vec4( -0.0066920737735927105, -0.01034362893551588, -0.016502559185028076, -0.015501500107347965) * float(LUMA_texOff(vec2(2,2)));
res = mix(res, vec4(1.54301,-0.272309,-0.644199,0.21243) * res, lessThan(res, vec4(0.0)));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC feature map 2
//!BIND LUMA
//!SAVE MODEL2
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(-0.0267634,-0.065716,-0.0036384,-0.00838418);
res += vec4( 0.0034946103114634752, -0.028290674090385437, -0.026876181364059448, 0.0005107611650601029) * float(LUMA_texOff(vec2(-2,-2)));
res += vec4( -0.015135882422327995, 0.0373230054974556, 0.023032156750559807, -0.053118057548999786) * float(LUMA_texOff(vec2(-2,-1)));
res += vec4( 0.18237105011940002, 0.0025993837043642998, 0.022999590262770653, 0.15745261311531067) * float(LUMA_texOff(vec2(-2,0)));
res += vec4( -0.019322611391544342, -0.06152782216668129, -0.04052884504199028, -0.04296204075217247) * float(LUMA_texOff(vec2(-2,1)));
res += vec4( 0.0012200031196698546, 0.0006225683027878404, -0.004633792210370302, 0.01621156930923462) * float(LUMA_texOff(vec2(-2,2)));
res += vec4( -0.05256982520222664, 0.016773691400885582, 0.015574241057038307, -0.008902139030396938) * float(LUMA_texOff(vec2(-1,-2)));
res += vec4( 0.05958351865410805, -0.08979059010744095, -0.08618144690990448, 0.023984480649232864) * float(LUMA_texOff(vec2(-1,-1)));
res += vec4( -0.5325051546096802, -0.06270662695169449, -0.174915611743927, 0.014241864904761314) * float(LUMA_texOff(vec2(-1,0)));
res += vec4( 0.061684802174568176, 0.06018051877617836, 0.019604351371526718, 0.017752336338162422) * float(LUMA_texOff(vec2(-1,1)));
res += vec4( -0.051546741276979446, -0.02852252498269081, -0.013993089087307453, -0.05181353911757469) * float(LUMA_texOff(vec2(-1,2)));
res += vec4( -0.08546024560928345, -0.0329086109995842, -0.06452013552188873, 0.007195093668997288) * float(LUMA_texOff(vec2(0,-2)));
res += vec4( 0.11650753766298294, 0.3124593496322632, 0.1882232129573822, -0.24420680105686188) * float(LUMA_texOff(vec2(0,-1)));
res += vec4( 0.609588086605072, 0.8519264459609985, -0.9706593751907349, 1.065945029258728) * float(LUMA_texOff(vec2(0,0)));
res += vec4( 0.006298812571913004, -0.5288530588150024, -0.35104337334632874, -0.19823318719863892) * float(LUMA_texOff(vec2(0,1)));
res += vec4( -0.056275274604558945, 0.123571015894413, 0.03649875521659851, 0.05990341305732727) * float(LUMA_texOff(vec2(0,2)));
res += vec4( 0.024887077510356903, -0.005874518770724535, -0.008183510974049568, 0.031702671200037) * float(LUMA_texOff(vec2(1,-2)));
res += vec4( -0.020319297909736633, -0.07373753935098648, -0.049542251974344254, -0.020724337548017502) * float(LUMA_texOff(vec2(1,-1)));
res += vec4( 0.19605402648448944, -0.22623668611049652, -0.10086027532815933, -0.7412812113761902) * float(LUMA_texOff(vec2(1,0)));
res += vec4( -0.03750419616699219, -0.027664978057146072, -0.06573093682527542, -0.037871845066547394) * float(LUMA_texOff(vec2(1,1)));
res += vec4( 0.014428920112550259, -0.02561391144990921, -0.01354142278432846, -0.019112637266516685) * float(LUMA_texOff(vec2(1,2)));
res += vec4( -0.009219885803759098, -0.013293033465743065, -0.011429526843130589, -0.03959761932492256) * float(LUMA_texOff(vec2(2,-2)));
res += vec4( -0.0007885185186751187, 0.015215279534459114, 0.009983828291296959, 0.056935884058475494) * float(LUMA_texOff(vec2(2,-1)));
res += vec4( -0.11898171156644821, 0.05940159782767296, -0.00480111176148057, -0.009872153401374817) * float(LUMA_texOff(vec2(2,0)));
res += vec4( 0.02792842872440815, -0.013354917988181114, -0.007438527420163155, 0.06656664609909058) * float(LUMA_texOff(vec2(2,1)));
res += vec4( -0.022367127239704132, -0.015514491125941277, -0.02175682969391346, -0.014207952655851841) * float(LUMA_texOff(vec2(2,2)));
res = mix(res, vec4(0.551329,0.884607,-0.2477,0.06836) * res, lessThan(res, vec4(0.0)));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 1_1
//!BIND MODEL1
//!BIND MODEL2
//!SAVE MODEL21
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(-0.0180164,0.013058,0.05758,-0.0188971);
res += mat4(-0.11740235239267349, -0.1316796839237213, -0.14794759452342987, -0.11225625872612, -0.00785341951996088, -0.05427081882953644, 0.0768221989274025, -0.15618155896663666, 0.10784388333559036, 0.062132105231285095, -0.03527411073446274, 0.04119651019573212, 0.43460407853126526, 0.16321961581707, 0.05347374826669693, 0.49549466371536255) * vec4(MODEL1_texOff(vec2(-1,-1)));
res += mat4( -0.007153241895139217, 0.026678120717406273, 0.06961088627576828, 0.043673280626535416, -0.1350378841161728, -0.03334220126271248, 0.08854503184556961, -0.14044252038002014, -0.26842567324638367, -0.09509893506765366, -0.113479383289814, -0.3078968822956085, -0.12274748086929321, -0.1724317967891693, -0.2716882526874542, -0.3221246600151062) * vec4(MODEL2_texOff(vec2(-1,-1)));
res += mat4( -0.09220969676971436, 0.04811367392539978, -0.2893507480621338, -0.09071794152259827, 0.20616532862186432, -0.019284583628177643, 0.12153348326683044, -0.1797550916671753, 0.2656148076057434, 0.21465550363063812, 0.12980270385742188, 0.23036552965641022, -0.19644850492477417, -0.0006485257181338966, -0.14440873265266418, 0.07755152881145477) * vec4(MODEL1_texOff(vec2(-1,0)));
res += mat4( 0.39023855328559875, -0.23692047595977783, 0.3778647482395172, -0.28339076042175293, 0.12284555286169052, 0.16126063466072083, 0.1352779120206833, 0.14367999136447906, -0.15513066947460175, 0.19386760890483856, -0.41916096210479736, -0.070421501994133, -0.02295992709696293, -0.05241881310939789, -0.4025617241859436, -0.02828502096235752) * vec4(MODEL2_texOff(vec2(-1,0)));
res += mat4( 0.034017257392406464, 0.009920435957610607, -0.08042572438716888, 0.07968515902757645, 0.04042588546872139, 0.08077365905046463, 0.1616968959569931, 0.0020619251299649477, 0.08599699288606644, 0.11344186216592789, 0.1886151283979416, 0.21922841668128967, -0.13079489767551422, -0.04590364918112755, -0.025396544486284256, 0.015192409045994282) * vec4(MODEL1_texOff(vec2(-1,1)));
res += mat4( 0.13128837943077087, 0.0928339958190918, 0.2888569235801697, 0.09942712634801865, -0.13456891477108002, -0.042959488928318024, -0.01885499246418476, -0.07306007295846939, 0.08472689986228943, -0.14265061914920807, -0.025284651666879654, 0.06032022833824158, -0.07848957180976868, 0.041609987616539, -0.2655320465564728, 0.11460143327713013) * vec4(MODEL2_texOff(vec2(-1,1)));
res += mat4( -0.10011599957942963, -0.014333304017782211, 0.11306190490722656, -0.19633865356445312, 0.12157972157001495, -0.158625528216362, 0.3918173611164093, -0.33639636635780334, -0.14801113307476044, -0.04187864437699318, 0.06710135191679001, -0.14394445717334747, -0.32023873925209045, -0.3157469928264618, -0.36426737904548645, 0.005902066361159086) * vec4(MODEL1_texOff(vec2(0,-1)));
res += mat4( 0.05835241451859474, -0.21053723990917206, -0.015923453494906425, 0.2908419668674469, -0.002108314773067832, -0.010195013135671616, 0.09856725484132767, -0.34207847714424133, 0.24501822888851166, -0.6291289329528809, -0.15585221350193024, -0.011916817165911198, -0.08297201246023178, -0.2485809624195099, 0.04327746853232384, -0.1435856968164444) * vec4(MODEL2_texOff(vec2(0,-1)));
res += mat4( -0.07022064924240112, 0.19890108704566956, -0.146052286028862, 0.27286994457244873, 0.23038963973522186, -0.25941744446754456, -0.12263903766870499, -0.34507349133491516, -0.1250213384628296, 0.05381084978580475, -0.49662965536117554, 0.3425244092941284, 0.5361977815628052, -0.016643067821860313, 0.8708558082580566, 0.8461443185806274) * vec4(MODEL1_texOff(vec2(0,0)));
res += mat4( -0.8752555847167969, 0.55218106508255, -1.0545698404312134, -0.2676951289176941, -0.1500934511423111, 0.5745582580566406, 0.3415774405002594, 0.06902162730693817, 0.2861432135105133, 0.7276043891906738, 0.8975719809532166, 0.14561717212200165, 0.1288682371377945, -0.33614566922187805, -0.03875785693526268, 0.43503156304359436) * vec4(MODEL2_texOff(vec2(0,0)));
res += mat4( -0.1178952306509018, -0.04776020720601082, -0.07709438353776932, -0.04740361496806145, -0.00606668321415782, 0.10291237384080887, -0.2718513607978821, 0.38099369406700134, -0.01426723226904869, 0.07534889876842499, -0.04246276989579201, 0.18881645798683167, -0.06018773466348648, -0.1583690047264099, -0.019062701612710953, -0.4594431519508362) * vec4(MODEL1_texOff(vec2(0,1)));
res += mat4( 0.10998372733592987, 0.16946947574615479, -0.02798856981098652, 0.17308640480041504, 0.23458382487297058, -0.025149209424853325, -0.08912141621112823, -0.2395855039358139, -0.09087127447128296, 0.056062281131744385, -0.2586642801761627, -0.12610071897506714, -0.07398408651351929, 0.06495564430952072, -0.19318526983261108, 0.2855012118816376) * vec4(MODEL2_texOff(vec2(0,1)));
res += mat4( 0.08659687638282776, 0.005878905300050974, 0.03757806867361069, 0.14984117448329926, 0.011346290819346905, -0.13050059974193573, 0.1069941520690918, -0.30333781242370605, -0.0397273451089859, -0.11455020308494568, -0.05598831921815872, -0.04473372921347618, -0.09376481175422668, 0.0452287495136261, -0.2517179548740387, -0.06709945201873779) * vec4(MODEL1_texOff(vec2(1,-1)));
res += mat4( 0.06055420637130737, 0.012876439839601517, 0.1928916722536087, -0.11987332254648209, 0.032973792403936386, -0.1798228770494461, 0.010145902633666992, -0.07036010921001434, -0.021486977115273476, 0.14358161389827728, 0.08525080978870392, 0.22161298990249634, 0.10422809422016144, -0.028006715700030327, 0.13200393319129944, 0.18320153653621674) * vec4(MODEL2_texOff(vec2(1,-1)));
res += mat4( 0.06428393721580505, 0.1069553792476654, 0.28003913164138794, 0.16592855751514435, -0.1107952743768692, -0.23809537291526794, -0.04237758368253708, -0.2976604104042053, -0.009505089372396469, 0.033985912799835205, -0.37213218212127686, 0.22129929065704346, 0.050960738211870193, -0.2913588285446167, -0.13817575573921204, -0.2632756531238556) * vec4(MODEL1_texOff(vec2(1,0)));
res += mat4( 0.06786935031414032, -0.24522626399993896, 0.07906881719827652, -0.04095418378710747, -0.06731300801038742, -0.04546984285116196, -0.10673023760318756, 0.05040096119046211, -0.0008910237811505795, -0.09644497185945511, 0.1040855273604393, -0.2360759824514389, 0.15160048007965088, 0.0032849295530468225, 0.3966064453125, 0.20026300847530365) * vec4(MODEL2_texOff(vec2(1,0)));
res += mat4( 0.019979409873485565, -0.052800584584474564, 0.016727225854992867, -0.09890913218259811, -0.05677955225110054, 0.06013478711247444, -0.07762812823057175, 0.300586998462677, 0.10778585821390152, 0.05405109375715256, -0.014303136616945267, 0.277891606092453, 0.015110217966139317, -0.06885986030101776, -0.081342414021492, -0.12361008673906326) * vec4(MODEL1_texOff(vec2(1,1)));
res += mat4( -0.006511615589261055, 0.04885632172226906, 0.12207771092653275, 0.20417696237564087, -0.09760277718305588, 0.014921402558684349, -0.12933266162872314, 0.13525938987731934, -0.00541987968608737, 0.02828027494251728, 0.06473896652460098, 0.11450473964214325, -0.0049257283098995686, 0.0038998497184365988, 0.16707633435726166, -0.005588468164205551) * vec4(MODEL2_texOff(vec2(1,1)));
res = mix(res, vec4(-0.939314,1.31715,1.08296,0.346669) * res, lessThan(res, vec4(0.0)));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 1_2
//!BIND MODEL1
//!BIND MODEL2
//!SAVE MODEL22
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(0.0522964,0.00135703,0.0298622,-0.0307682);
res += mat4( -0.06277327984571457, 0.0634811669588089, 0.04170256108045578, 0.07861118763685226, 0.18244531750679016, 0.028552712872624397, 0.07847058773040771, -0.00949262548238039, -0.09689517319202423, 0.033304307609796524, 0.032176725566387177, 0.006143566220998764, -0.10940058529376984, -0.06470414251089096, -0.36236995458602905, -0.030494816601276398) * vec4(MODEL1_texOff(vec2(-1,-1)));
res += mat4( 0.033893659710884094, -0.013388448394834995, 0.027119314298033714, -0.01586463488638401, 0.1355617195367813, -0.03862129896879196, 0.08832035958766937, -0.07099655270576477, 0.03705931082367897, -0.04723421484231949, 0.15421055257320404, -0.0020566084422171116, -0.10902127623558044, 0.07676591724157333, -0.024256834760308266, 0.11053597927093506) * vec4(MODEL2_texOff(vec2(-1,-1)));
res += mat4( -0.18122245371341705, -0.05446603521704674, -0.20885944366455078, 0.09494355320930481, -0.0356861911714077, 0.048089005053043365, 0.3181295096874237, -0.024697130545973778, -0.4562118649482727, -0.01808268018066883, 0.12385888397693634, -0.0837373211979866, 0.34188732504844666, -0.20909060537815094, 0.10370010137557983, -0.11911916732788086) * vec4(MODEL1_texOff(vec2(-1,0)));
res += mat4( 0.284882515668869, -0.04739219322800636, 0.39382311701774597, -0.14134405553340912, -0.14096815884113312, -0.037493254989385605, -0.09571914374828339, -0.06099752336740494, -0.3414340615272522, -0.45988520979881287, -0.26529183983802795, -0.16782623529434204, -0.10109023749828339, 0.12820252776145935, -0.0855308547616005, 0.16484910249710083) * vec4(MODEL2_texOff(vec2(-1,0)));
res += mat4( -0.059129487723112106, 0.025033671408891678, -0.04686550423502922, 0.021002091467380524, -0.2544573247432709, 0.00474240118637681, 0.03313586860895157, -0.04990853741765022, 0.0024513809476047754, -0.002747842576354742, 0.013103666715323925, -0.0900263637304306, 0.15750496089458466, 0.0919724851846695, 0.16020207107067108, 0.039349429309368134) * vec4(MODEL1_texOff(vec2(-1,1)));
res += mat4( -0.04621734097599983, -0.055855799466371536, 0.13779094815254211, -0.044955044984817505, -0.14465083181858063, -0.030485596507787704, -0.005450197029858828, 0.006609718315303326, 0.04681077226996422, -0.05203130468726158, -0.19098947942256927, 0.004932659678161144, -0.26704472303390503, 0.004015686921775341, -0.23326462507247925, 0.03891885653138161) * vec4(MODEL2_texOff(vec2(-1,1)));
res += mat4( 0.1197289228439331, -0.017507361248135567, 0.09841815382242203, -0.04475555196404457, -0.01292710192501545, -0.05110785737633705, 0.07423856854438782, -0.07903733104467392, -0.09508106112480164, 0.009019952267408371, 0.12574636936187744, -0.008888757787644863, -0.19989454746246338, -0.08245066553354263, 0.15400037169456482, 0.034994278103113174) * vec4(MODEL1_texOff(vec2(0,-1)));
res += mat4( 0.12211597710847855, -0.059885382652282715, 0.058499645441770554, -0.025508804246783257, -0.1344708502292633, -0.06573998928070068, -0.11097023636102676, -0.012712773866951466, -0.11306431144475937, -0.09061156213283539, -0.07336997240781784, -0.19821709394454956, 0.2518574595451355, 0.050000716000795364, 0.027954887598752975, 0.03066524676978588) * vec4(MODEL2_texOff(vec2(0,-1)));
res += mat4( 0.6888375282287598, -0.16160540282726288, -0.14775776863098145, -0.014210447669029236, 0.13195165991783142, 0.12007173150777817, -0.21015608310699463, 0.12725821137428284, -0.46222543716430664, 0.07894692569971085, 0.17478960752487183, 0.14769649505615234, 0.19359414279460907, -0.30525824427604675, 0.1740899682044983, 0.10264492779970169) * vec4(MODEL1_texOff(vec2(0,0)));
res += mat4( -0.31399789452552795, -0.24189092218875885, -0.8141022324562073, 0.4415944814682007, 0.34450820088386536, 0.9066093564033508, 0.9256024956703186, 0.165995255112648, 0.04855724424123764, 1.0472557544708252, -0.05788525566458702, 2.094552516937256, 0.5048471093177795, 0.16371437907218933, 0.3482068181037903, 0.04309951886534691) * vec4(MODEL2_texOff(vec2(0,0)));
res += mat4( 0.05442560836672783, -0.09546928852796555, -0.09701173007488251, 0.010440228506922722, -0.09893251210451126, 0.09375065565109253, -0.20620445907115936, 0.040129225701093674, -0.11445710062980652, -0.017891427502036095, 0.011894654482603073, -0.008244764059782028, -0.3074599504470825, 0.011143779382109642, -0.26010990142822266, -0.06152680888772011) * vec4(MODEL1_texOff(vec2(0,1)));
res += mat4( 0.10389130562543869, 0.19837862253189087, 0.14576555788516998, -0.09644290059804916, 0.23330435156822205, -0.003979484550654888, -0.11443866789340973, 0.047312092036008835, 0.0527627132833004, -0.1025080606341362, 0.16024813055992126, -0.014169381931424141, 0.10197535902261734, -0.03570772707462311, -0.0252778809517622, 0.07429099828004837) * vec4(MODEL2_texOff(vec2(0,1)));
res += mat4( -0.10613451898097992, -0.004882486537098885, 0.034036800265312195, -0.02113545872271061, 0.0637635737657547, -0.014766337350010872, -0.02683725766837597, -0.040136657655239105, 0.09810420125722885, -0.006475140806287527, -0.0709117203950882, 0.02193562127649784, -0.07781001180410385, 0.07061823457479477, 0.059731073677539825, 0.08517344295978546) * vec4(MODEL1_texOff(vec2(1,-1)));
res += mat4( 0.058108266443014145, -0.04725005850195885, -0.07976418733596802, -0.07056304812431335, 0.015059581026434898, 0.006063456647098064, 0.02019544132053852, -0.02123209834098816, 0.04188793897628784, -0.03785306587815285, 0.013053230941295624, -0.09524787962436676, 0.047205548733472824, 0.004450101405382156, 0.004807330667972565, -0.04003264009952545) * vec4(MODEL2_texOff(vec2(1,-1)));
res += mat4( 0.0844070091843605, -0.07316402345895767, 0.016949735581874847, -0.0763455480337143, 0.27486491203308105, 0.018477583304047585, -0.1713193655014038, 0.04700782522559166, -0.1554688960313797, -0.04358794540166855, -0.12864768505096436, 0.1275930106639862, -0.26274117827415466, 0.08327244222164154, -0.1861555278301239, -0.0887637585401535) * vec4(MODEL1_texOff(vec2(1,0)));
res += mat4( -0.003872665110975504, 0.2118038535118103, 0.31622275710105896, 0.02396761067211628, 0.07321467250585556, -0.03634191304445267, -0.13460078835487366, 0.11316978186368942, 0.11800390481948853, -0.08756161481142044, -0.005526335444301367, -0.11624753475189209, 0.0793781727552414, -0.045695915818214417, 0.23869049549102783, -0.09733662009239197) * vec4(MODEL2_texOff(vec2(1,0)));
res += mat4( -0.024536537006497383, 0.05264359340071678, 0.11817913502454758, -0.02117353491485119, 0.10799610614776611, -0.026079775765538216, 0.1062101423740387, 0.04827720671892166, -0.10876885801553726, -0.03903380036354065, -0.013818163424730301, -0.026285994797945023, -0.1778336614370346, 0.023928359150886536, 0.10994492471218109, 0.047944676131010056) * vec4(MODEL1_texOff(vec2(1,1)));
res += mat4( 0.14878372848033905, -0.05353851616382599, 0.06909436732530594, 0.0071489037945866585, -0.0013471607817336917, -0.04031970351934433, -0.1435781866312027, 0.055843085050582886, -0.020627005025744438, 0.029456017538905144, -0.054302942007780075, -0.06041663512587547, 0.08820677548646927, -0.03455214947462082, 0.038614947348833084, -0.035484787076711655) * vec4(MODEL2_texOff(vec2(1,1)));
res = mix(res, vec4(-0.923614,-0.00452485,-1.30315,0.945414) * res, lessThan(res, vec4(0.0)));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 2_1
//!BIND MODEL21
//!BIND MODEL22
//!SAVE MODEL1
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(0.0107817,0.00536928,-0.00583835,-0.0276164);
res += mat4(0.0054005226120352745, -0.01004553772509098, 0.010360321961343288, -0.17468313872814178, -0.003074671607464552, 0.04716299846768379, -0.013427822850644588, -0.1703445315361023, 0.006476394832134247, -0.04427455738186836, -0.008607263676822186, 0.16485346853733063, -0.01061791181564331, -0.05704918131232262, 0.015070426277816296, 0.07812188565731049) * vec4(MODEL21_texOff(vec2(-1,-1)));
res += mat4( 0.006956338882446289, -0.029563071206212044, 0.0032592767383903265, 0.03222465515136719, 0.07003586739301682, 0.0436757393181324, -0.001134348101913929, -0.10235288739204407, -0.0024266124237328768, 0.012541214935481548, 0.0062488531693816185, 0.05015101283788681, -0.028820890933275223, 0.04035310819745064, 0.02514672465622425, 0.0836772695183754) * vec4(MODEL22_texOff(vec2(-1,-1)));
res += mat4( -0.0033887410536408424, 0.05128157511353493, 0.029636891558766365, -0.004080893937498331, -0.0049562458880245686, 0.059034135192632675, 0.0559573732316494, 0.48455744981765747, -0.008022433146834373, -0.001972889294847846, -0.057388197630643845, -0.2652968168258667, 0.054971255362033844, -0.013849694281816483, 0.00906496960669756, -0.0999242514371872) * vec4(MODEL21_texOff(vec2(-1,0)));
res += mat4( 0.023388681933283806, 0.03690885379910469, 0.014159150421619415, 0.11673860251903534, -0.1352442353963852, -0.1468457281589508, 0.00756968604400754, 0.1726946234703064, 0.018394384533166885, 0.0050225574523210526, 0.019970418885350227, 0.26733508706092834, 0.04447046294808388, 0.08977480232715607, -0.0009021262521855533, -0.016131866723299026) * vec4(MODEL22_texOff(vec2(-1,0)));
res += mat4( -0.0034878808073699474, -0.004798265639692545, 0.017335491254925728, -0.2092645764350891, 0.021679960191249847, 0.0004929750575684011, 0.04074593260884285, -0.2521998882293701, -0.014079222455620766, 0.010523384436964989, -0.010813245549798012, -0.030653659254312515, -0.024703368544578552, 0.002655272837728262, -0.01720765233039856, -0.025554150342941284) * vec4(MODEL21_texOff(vec2(-1,1)));
res += mat4( 0.008935267105698586, 0.010844873264431953, 0.021851859986782074, -0.027785349637269974, 0.03852381184697151, -0.01811881549656391, 0.010692326352000237, -0.1457543522119522, 0.00284329685382545, 0.004070321097970009, -0.003366684541106224, 0.08016882091760635, -0.03217192739248276, 0.045559849590063095, -0.009592778980731964, 0.03983616456389427) * vec4(MODEL22_texOff(vec2(-1,1)));
res += mat4( -0.004540444351732731, -0.01654130034148693, -0.013737417757511139, -0.2938444912433624, -0.0019445172511041164, 0.021086223423480988, 0.010425056330859661, -0.03337535634636879, 0.038898274302482605, -0.4031215012073517, -0.0052549755200743675, 0.1049940213561058, 0.004282957874238491, 0.009010914713144302, -0.05152497440576553, 0.4699375033378601) * vec4(MODEL21_texOff(vec2(0,-1)));
res += mat4( 0.007156689651310444, 0.0009603959042578936, -0.014017349109053612, -0.10619189590215683, -0.14418676495552063, 0.06899723410606384, -0.0017507649026811123, 0.2197689563035965, 0.0026536358054727316, 0.08789049088954926, -0.011861195787787437, 0.1707957684993744, 0.06370614469051361, -0.513364315032959, -0.10344264656305313, -0.09308073669672012) * vec4(MODEL22_texOff(vec2(0,-1)));
res += mat4( -0.03020070306956768, 0.04751292243599892, -0.01208491437137127, -0.23951387405395508, 0.053628962486982346, 0.41538503766059875, -0.3052704632282257, -0.04324391856789589, 0.32103222608566284, 0.23650559782981873, -0.06898708641529083, -0.3377378582954407, 0.04542672634124756, -0.3307504951953888, 0.029253939166665077, -1.623976230621338) * vec4(MODEL21_texOff(vec2(0,0)));
res += mat4( -0.06921549886465073, -0.006568731274455786, -0.0166269913315773, -0.1835051327943802, -0.012089983560144901, 0.8098940253257751, 0.23410244286060333, -0.013940907083451748, -0.002535562263801694, -0.0995972529053688, -0.017086394131183624, 0.28705358505249023, 1.1091117858886719, 0.2657286822795868, -0.2657814025878906, 0.06975918263196945) * vec4(MODEL22_texOff(vec2(0,0)));
res += mat4( 0.044628724455833435, 0.03314640372991562, 0.0014773752773180604, 0.03885706514120102, 0.05094800516963005, -0.04448186233639717, -0.0236359816044569, 0.004347112495452166, -0.04965496435761452, 0.010832497850060463, -0.016670284792780876, 0.09040616452693939, 0.014377625659108162, 0.024566752836108208, 0.01074632816016674, -0.045301955193281174) * vec4(MODEL21_texOff(vec2(0,1)));
res += mat4( -0.010176463983952999, 0.019358763471245766, -0.06693083792924881, 0.26086416840553284, -0.044881805777549744, -0.013680675067007542, 0.004715147893875837, -0.08059568703174591, -0.010677951388061047, -0.05698908865451813, 0.01927143707871437, 0.12534074485301971, -0.004095551557838917, -0.08178941905498505, 0.052896421402692795, -0.1409924030303955) * vec4(MODEL22_texOff(vec2(0,1)));
res += mat4( 0.015057705342769623, -0.04892394319176674, -0.06724797189235687, -0.25156235694885254, -0.003852083347737789, 0.027125641703605652, 0.0020650611259043217, 0.14995384216308594, -0.008515129797160625, -0.04354146495461464, 0.08817146718502045, -0.00020090356701985002, -0.007915547117590904, -0.003916381858289242, -0.014253435656428337, -0.14477166533470154) * vec4(MODEL21_texOff(vec2(1,-1)));
res += mat4( 0.013244977220892906, 0.013959496282041073, -0.0010637148516252637, 0.07688041031360626, -0.0196328517049551, 0.24138084053993225, -0.04696875438094139, -0.14444074034690857, -0.00464205164462328, 0.05439943075180054, -0.02028522454202175, 0.15722572803497314, -0.013429331593215466, 0.023666219785809517, 0.05486539378762245, -0.08214183151721954) * vec4(MODEL22_texOff(vec2(1,-1)));
res += mat4( -0.05154448747634888, 0.10811387002468109, -0.27395498752593994, -0.10839969664812088, -0.04678373783826828, 0.015583815984427929, -0.057012543082237244, -0.23318512737751007, 0.007210840471088886, -0.06891724467277527, 0.3773011863231659, 0.030839240178465843, 0.009271018207073212, -0.009282408282160759, 0.10333724319934845, 0.03847656771540642) * vec4(MODEL21_texOff(vec2(1,0)));
res += mat4( -0.010424848645925522, 0.050205301493406296, 0.09039990603923798, -0.1276496946811676, -0.01294525247067213, -0.15888525545597076, 0.33572089672088623, -0.2907027304172516, -0.0157560296356678, 0.0029389800038188696, -0.014612057246267796, 0.06859822571277618, -0.06075480207800865, -0.06345851719379425, 0.1804468333721161, 0.1263793259859085) * vec4(MODEL22_texOff(vec2(1,0)));
res += mat4( -0.013782193884253502, 0.06468555331230164, -0.05290351063013077, -0.017589757218956947, 0.012007096782326698, -0.01166687160730362, 0.11268454045057297, 0.1789875328540802, 0.013117431662976742, -0.019573036581277847, 0.019639872014522552, -0.03072921186685562, -0.015053022652864456, -0.014279389753937721, -0.00694174924865365, -0.17453670501708984) * vec4(MODEL21_texOff(vec2(1,1)));
res += mat4( 0.02979934588074684, -0.008272739127278328, 0.04295776039361954, 0.1449011266231537, -0.07864150404930115, 0.2210681289434433, 0.005535567179322243, 0.2283630669116974, 0.02324705570936203, -0.05643254518508911, 0.025882449001073837, 0.039429470896720886, -0.008164315484464169, -0.03834150731563568, -0.0020081992261111736, -0.027118192985653877) * vec4(MODEL22_texOff(vec2(1,1)));
res = mix(res, vec4(0.943071,0.754884,2.84562,0.00717788) * res, lessThan(res, vec4(0.0)));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 2_2
//!BIND MODEL21
//!BIND MODEL22
//!SAVE MODEL2
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(-0.0458107,-0.0265007,-0.0169668,-0.0173707);
res += mat4( -0.18226629495620728, 0.04664965718984604, -0.1147656962275505, -0.03916992247104645, -0.004783994983881712, 0.03787732869386673, -0.02626418136060238, 0.027304118499159813, 0.04945465177297592, -0.040073055773973465, 0.12008858472108841, -0.053543537855148315, -0.08264416456222534, -0.07611825317144394, 0.06318774819374084, -0.0716424286365509) * vec4(MODEL21_texOff(vec2(-1,-1)));
res += mat4( 0.04986397922039032, -0.026307487860322, -0.0014387463452294469, 0.042877595871686935, 0.08667244017124176, -0.029216846451163292, -0.05888624116778374, 0.11403334140777588, 0.04940463602542877, -0.039800528436899185, -0.02633167803287506, 0.0597258023917675, -0.09323904663324356, 0.008410404436290264, 0.06533704698085785, -0.07482705265283585) * vec4(MODEL22_texOff(vec2(-1,-1)));
res += mat4( -0.07453586906194687, 0.09222312271595001, -0.23225945234298706, 0.02565923146903515, -0.0017093551578000188, -0.20537850260734558, -0.13031181693077087, 0.065284363925457, -0.05633643642067909, 0.0824771299958229, 0.10322629660367966, -0.026789840310811996, 0.2984189987182617, -0.03326307237148285, 0.04039158672094345, 0.10478055477142334) * vec4(MODEL21_texOff(vec2(-1,0)));
res += mat4( 0.03882391005754471, -0.03760348632931709, 0.1230400875210762, 0.1180197224020958, -0.17252027988433838, 0.06872063875198364, 0.07411303371191025, 0.023622862994670868, 0.22232553362846375, -0.09730521589517593, 0.00828037690371275, 0.08322802931070328, 0.17551806569099426, -0.1076342761516571, -0.353737473487854, 0.013829370029270649) * vec4(MODEL22_texOff(vec2(-1,0)));
res += mat4( -0.21040023863315582, 0.04587149992585182, -0.10045179724693298, -0.022993138059973717, -0.03227313607931137, -0.12370355427265167, -0.04822447896003723, 0.09845909476280212, -0.09100376814603806, 0.039169736206531525, 0.04646674543619156, -0.005926033947616816, 0.016474761068820953, 0.055981386452913284, 0.07228925079107285, -0.06954001635313034) * vec4(MODEL21_texOff(vec2(-1,1)));
res += mat4( -0.012471118941903114, 0.011651715263724327, -0.038909412920475006, -0.014142713509500027, 0.01115639228373766, 0.004908805247396231, 0.04144059866666794, -0.022630177438259125, 0.15206222236156464, -0.0687825158238411, 0.03186265751719475, 0.0648421198129654, 0.018266208469867706, -0.01883571222424507, 0.020380282774567604, -0.0023910468444228172) * vec4(MODEL22_texOff(vec2(-1,1)));
res += mat4( -0.1974577009677887, 0.08373845368623734, -0.07653045654296875, -0.17147181928157806, 0.10200431942939758, 0.0057728486135602, 0.05672411620616913, -0.008044234476983547, -0.1271272748708725, -0.09014342725276947, -0.019789939746260643, 0.14860248565673828, 0.0652589350938797, -0.07729047536849976, -0.08784850686788559, -0.13308139145374298) * vec4(MODEL21_texOff(vec2(0,-1)));
res += mat4( 0.0532473586499691, -0.007652156054973602, -0.036798860877752304, -0.02891653962433338, -0.3362787365913391, 0.14760397374629974, 0.004523474723100662, -0.04683627933263779, 0.26740124821662903, -0.04629147797822952, -0.01014770194888115, -0.015390126965939999, 0.18969598412513733, -0.09233227372169495, -0.1373603492975235, -0.13429856300354004) * vec4(MODEL22_texOff(vec2(0,-1)));
res += mat4( -0.07125506550073624, 0.239308163523674, -0.34320443868637085, -0.27731725573539734, 0.09452299028635025, -0.024266356602311134, -0.28024110198020935, -0.6909290552139282, 0.13069148361682892, 0.3894393742084503, 0.33961039781570435, 0.5424262881278992, -0.7873511910438538, -0.015665162354707718, 0.18353161215782166, 0.32242414355278015) * vec4(MODEL21_texOff(vec2(0,0)));
res += mat4( -0.17281095683574677, 0.002712806686758995, -0.060193318873643875, 0.11484507471323013, 0.8552603721618652, -0.28238433599472046, 0.5687703490257263, -0.28340208530426025, 0.256507009267807, -0.12593625485897064, 0.017161162570118904, -0.019125500693917274, -0.21499785780906677, 0.46474266052246094, 0.31234925985336304, 0.27483636140823364) * vec4(MODEL22_texOff(vec2(0,0)));
res += mat4( -0.21324145793914795, 0.07525482028722763, -0.10890644043684006, -0.1025075912475586, -0.39679574966430664, -0.13299478590488434, 0.07173000276088715, 0.294257253408432, 0.03183960169553757, 0.086173877120018, 0.028676221147179604, 0.07625149935483932, -0.04747513681650162, 0.021763397380709648, 0.03886832669377327, -0.05660548806190491) * vec4(MODEL21_texOff(vec2(0,1)));
res += mat4( -0.0643964484333992, 0.08751542121171951, -0.0069808997213840485, 0.12347842752933502, -0.3080158829689026, -0.170660600066185, -0.0007668492035008967, 0.23448537290096283, 0.1708294153213501, -0.09830652177333832, 0.06547126919031143, 0.04607877507805824, -0.004290122073143721, -0.20294363796710968, 0.05550631880760193, -0.028725706040859222) * vec4(MODEL22_texOff(vec2(0,1)));
res += mat4( -0.15623696148395538, 0.049514710903167725, 0.023954838514328003, -0.07658969610929489, -0.028102919459342957, -0.01627896912395954, -0.007208297494798899, 0.038426466286182404, 0.050744201987981796, 0.004074824042618275, 0.00951389130204916, 0.0179140605032444, -0.06233382225036621, -0.029900377616286278, -0.015080931596457958, 0.01111678872257471) * vec4(MODEL21_texOff(vec2(1,-1)));
res += mat4( 0.030726149678230286, 0.013326549902558327, 0.02027338556945324, -0.0778159648180008, -0.32541128993034363, -0.0031266084406524897, -0.10820458084344864, -0.09935290366411209, 0.21469980478286743, -0.0026041576638817787, 0.043395206332206726, 0.02658873051404953, 0.14577120542526245, 0.04370580613613129, 0.032285913825035095, -0.02302590385079384) * vec4(MODEL22_texOff(vec2(1,-1)));
res += mat4( -0.056543271988630295, 0.25295567512512207, 0.043433040380477905, -0.10197315365076065, 0.09393621981143951, 0.031590115278959274, 0.03023691475391388, 0.009444981813430786, -0.02662304975092411, 0.024086764082312584, -0.029162060469388962, -0.02597091719508171, -0.24228236079216003, -0.0624089241027832, -0.017249440774321556, -0.024237746372818947) * vec4(MODEL21_texOff(vec2(1,0)));
res += mat4( 0.14897817373275757, 0.05165708810091019, 0.03422170504927635, -0.11496541649103165, -0.2601264417171478, -0.3011015057563782, -0.19604787230491638, 0.1813461184501648, 0.23215694725513458, -0.07175024598836899, 0.07858387380838394, 0.01245062705129385, -0.23514015972614288, -0.00435840105637908, -0.033518653362989426, -0.11056552082300186) * vec4(MODEL22_texOff(vec2(1,0)));
res += mat4( -0.00895954854786396, 0.04276968911290169, 0.01310649886727333, -0.05678804963827133, 0.0628959909081459, -0.08598221838474274, -0.0822744145989418, 0.02030099742114544, 0.0034159785136580467, -0.040504761040210724, -0.017239978536963463, 0.07520034909248352, -0.0709867998957634, 0.008131640963256359, 0.05086122080683708, 0.000527990865521133) * vec4(MODEL21_texOff(vec2(1,1)));
res += mat4( -0.03691048175096512, -0.021585170179605484, 0.01655362918972969, -0.03266716003417969, 0.35821518301963806, 0.14208932220935822, -0.1757480949163437, -0.03135915845632553, 0.03660932183265686, -0.0726986899971962, 0.038347333669662476, 0.029366567730903625, -0.008723964914679527, -0.043547485023736954, -0.006627427414059639, 0.02035491168498993) * vec4(MODEL22_texOff(vec2(1,1)));
res = mix(res, vec4(-0.269203,2.13004,3.14758,3.15127) * res, lessThan(res, vec4(0.0)));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC sub-pixel convolution 1
//!BIND MODEL1
//!SAVE MODEL1
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(0);
res[0] +=
dot(vec4( 2.1409712644526735e-05, -0.0014358956832438707, -0.004542606417089701, 0.0013624740531668067), MODEL1_texOff(vec2(-2,-2)))+
dot(vec4( 0.00885734148323536, -0.0010787529172375798, -0.018012527376413345, 0.0029084738343954086), MODEL1_texOff(vec2(-1,-2)))+
dot(vec4( 0.02170812152326107, -0.0013194468338042498, -0.00488091167062521, 0.01708115078508854), MODEL1_texOff(vec2(0,-2)))+
dot(vec4( 0.021141404286026955, -0.002623381558805704, 0.003917554393410683, 0.003767984453588724), MODEL1_texOff(vec2(1,-2)))+
dot(vec4( -0.004138055723160505, -0.0012755237985402346, -0.0009342583944089711, 0.004455494228750467), MODEL1_texOff(vec2(2,-2)))+
dot(vec4( -0.007370954379439354, -0.0003119896282441914, 0.0011564702726900578, -0.006631243042647839), MODEL1_texOff(vec2(-2,-1)))+
dot(vec4( 0.04803015664219856, -0.004936445504426956, 0.028239119797945023, 0.0028612117748707533), MODEL1_texOff(vec2(-1,-1)))+
dot(vec4( -0.10119473189115524, 0.04102204367518425, 0.013312401250004768, -0.03292591869831085), MODEL1_texOff(vec2(0,-1)))+
dot(vec4( 0.09851463884115219, 0.021625686436891556, 0.0027551946695894003, 0.0027969079092144966), MODEL1_texOff(vec2(1,-1)))+
dot(vec4( -0.00525242555886507, -0.0072308252565562725, -0.00027925887843593955, -0.004807169083505869), MODEL1_texOff(vec2(2,-1)))+
dot(vec4( 0.0375249981880188, -0.026341058313846588, -0.0014925901778042316, 0.011389254592359066), MODEL1_texOff(vec2(-2,0)))+
dot(vec4( -0.0030061646830290556, 0.07315736263990402, 0.09458169341087341, -0.007335809525102377), MODEL1_texOff(vec2(-1,0)))+
dot(vec4( 0.7863447666168213, -0.30908694863319397, -0.21538794040679932, 0.05339236184954643), MODEL1_texOff(vec2(0,0)))+
dot(vec4( 0.23718291521072388, 0.12325315177440643, 0.043578408658504486, -0.034557588398456573), MODEL1_texOff(vec2(1,0)))+
dot(vec4( 0.021301329135894775, -0.03884942829608917, -0.003704824484884739, -0.01778433285653591), MODEL1_texOff(vec2(2,0)))+
dot(vec4( -0.002446891739964485, 0.0012927392963320017, 0.010325690731406212, 0.0005909189349040389), MODEL1_texOff(vec2(-2,1)))+
dot(vec4( 0.0015630638226866722, 0.02914503961801529, 0.04250996559858322, 0.01861019805073738), MODEL1_texOff(vec2(-1,1)))+
dot(vec4( 0.0972212478518486, 0.12267093360424042, -0.04463469237089157, -0.0015340967802330852), MODEL1_texOff(vec2(0,1)))+
dot(vec4( 0.09190692007541656, 0.03952275589108467, 0.01219431683421135, 0.04405670985579491), MODEL1_texOff(vec2(1,1)))+
dot(vec4( 0.006933141965419054, 9.051181405084208e-05, -0.0005786088877357543, 0.004383450374007225), MODEL1_texOff(vec2(2,1)))+
dot(vec4( 0.0032539728563278913, -0.0018242994556203485, -0.005588572937995195, 0.001293905428610742), MODEL1_texOff(vec2(-2,2)))+
dot(vec4( -0.002755005145445466, -0.012583236210048199, 0.011608543805778027, -0.003216793294996023), MODEL1_texOff(vec2(-1,2)))+
dot(vec4( 0.007457179017364979, -0.016064660623669624, -0.005314401350915432, -0.0021688330452889204), MODEL1_texOff(vec2(0,2)))+
dot(vec4( 0.001995863625779748, -0.009374533779919147, 0.005981773603707552, 0.0026942684780806303), MODEL1_texOff(vec2(1,2)))+
dot(vec4(0.00302907289005816, 0.0029455621261149645, 9.823592699831352e-05, -0.004083557985723019), MODEL1_texOff(vec2(2,2)));
res[1] +=
dot(vec4( 0.0027405754663050175, -0.003099827328696847, -0.008527270518243313, 0.0016451738774776459), MODEL1_texOff(vec2(-1,-2)))+
dot(vec4( 0.013807808980345726, 0.0004951180890202522, -0.014400671236217022, 0.005487234331667423), MODEL1_texOff(vec2(0,-2)))+
dot(vec4( 0.04347223788499832, -0.0038137328810989857, 0.010676252655684948, 0.019728023558855057), MODEL1_texOff(vec2(1,-2)))+
dot(vec4( -0.008057638071477413, -0.0018765783170238137, -2.9805900339852087e-05, 0.0013068880653008819), MODEL1_texOff(vec2(2,-2)))+
dot(vec4( 0.02769959531724453, -0.007821664214134216, -0.0027996881399303675, -0.0017580054700374603), MODEL1_texOff(vec2(-1,-1)))+
dot(vec4( -0.04357015714049339, 0.024387560784816742, 0.042402856051921844, -0.02207147888839245), MODEL1_texOff(vec2(0,-1)))+
dot(vec4( 0.06553011387586594, 0.0450173057615757, -0.013030201196670532, -0.028241725638508797), MODEL1_texOff(vec2(1,-1)))+
dot(vec4( -0.008622218854725361, -0.006071111653000116, 0.0062103271484375, 0.008712305687367916), MODEL1_texOff(vec2(2,-1)))+
dot(vec4( 0.0028481248300522566, 0.014639879576861858, -0.014645733870565891, -2.7774078262154944e-05), MODEL1_texOff(vec2(-1,0)))+
dot(vec4( 0.277518630027771, -0.08108120411634445, -0.14419172704219818, 0.06586731225252151), MODEL1_texOff(vec2(0,0)))+
dot(vec4( 0.7495377659797668, 0.016013050451874733, 0.14285048842430115, -0.07600877434015274), MODEL1_texOff(vec2(1,0)))+
dot(vec4( 0.030790485441684723, -0.10460600256919861, -0.01973854936659336, -0.011634916067123413), MODEL1_texOff(vec2(2,0)))+
dot(vec4( 0.005466917995363474, 0.0013860545586794615, -0.01096812728792429, 0.002236420288681984), MODEL1_texOff(vec2(-1,1)))+
dot(vec4( 0.030854595825076103, 0.017961876466870308, 0.04332719370722771, -0.020938728004693985), MODEL1_texOff(vec2(0,1)))+
dot(vec4( 0.13185080885887146, 0.22446805238723755, 0.018149498850107193, 0.11361650377511978), MODEL1_texOff(vec2(1,1)))+
dot(vec4( 0.0342000275850296, -0.005568020977079868, -0.002200994873419404, -0.018332786858081818), MODEL1_texOff(vec2(2,1)))+
dot(vec4( -0.0005605523474514484, -0.005825350526720285, 0.0020973067730665207, -0.00033065458410419524), MODEL1_texOff(vec2(-1,2)))+
dot(vec4( 0.004749211948364973, -0.00798877514898777, 0.00048033695202320814, -0.009607073850929737), MODEL1_texOff(vec2(0,2)))+
dot(vec4( 0.006862212438136339, -0.010630213655531406, 0.004639494698494673, -0.0005003243568353355), MODEL1_texOff(vec2(1,2)))+
dot(vec4( 0.002065867418423295, -0.018676884472370148, 0.0013631554320454597, 0.006104113068431616), MODEL1_texOff(vec2(2,2)));
res[2] +=
dot(vec4( 0.0021515495609492064, -0.0012982611078768969, 0.0005390092846937478, -0.002783118048682809), MODEL1_texOff(vec2(-2,-1)))+
dot(vec4( 0.024157237261533737, -0.005563074257224798, 0.003563521197065711, -0.0027003895957022905), MODEL1_texOff(vec2(-1,-1)))+
dot(vec4( -0.017109261825680733, -0.0006623358349315822, 0.0018683368107303977, 0.004248383920639753), MODEL1_texOff(vec2(0,-1)))+
dot(vec4( 0.059621661901474, -0.0004857233143411577, 0.0029991562478244305, 0.006009687669575214), MODEL1_texOff(vec2(1,-1)))+
dot(vec4( -0.007951561361551285, -0.003188061760738492, -0.001079703215509653, -0.0013441464398056269), MODEL1_texOff(vec2(2,-1)))+
dot(vec4( 0.009036131203174591, -0.010860076174139977, 0.003139645326882601, 0.0005229545058682561), MODEL1_texOff(vec2(-2,0)))+
dot(vec4( 0.03963903710246086, 0.0188622884452343, 0.008822355419397354, -0.009394953027367592), MODEL1_texOff(vec2(-1,0)))+
dot(vec4( 0.34908613562583923, -0.07178619503974915, -0.028999555855989456, 0.07578374445438385), MODEL1_texOff(vec2(0,0)))+
dot(vec4( 0.1537082940340042, 0.051117394119501114, 0.029431886970996857, 0.015098835341632366), MODEL1_texOff(vec2(1,0)))+
dot(vec4( 0.0038534917403012514, -0.024997666478157043, -0.0034831147640943527, -0.007797230035066605), MODEL1_texOff(vec2(2,0)))+
dot(vec4( 0.014444957487285137, -0.007815846242010593, 0.010727448388934135, 0.007487952709197998), MODEL1_texOff(vec2(-2,1)))+
dot(vec4( 0.00868503749370575, 0.05453146621584892, 0.16909261047840118, -0.00921165943145752), MODEL1_texOff(vec2(-1,1)))+
dot(vec4( 0.4245423376560211, 0.31360265612602234, -0.21633519232273102, -0.1326620727777481), MODEL1_texOff(vec2(0,1)))+
dot(vec4( 0.24329322576522827, 0.1683216691017151, 0.036002110689878464, 0.038084279745817184), MODEL1_texOff(vec2(1,1)))+
dot(vec4( 0.017064111307263374, -0.002236505039036274, -0.0003075156710110605, -0.015423929318785667), MODEL1_texOff(vec2(2,1)))+
dot(vec4( 0.0008779873605817556, -0.012229026295244694, -0.0030534376855939627, -0.0013907385291531682), MODEL1_texOff(vec2(-2,2)))+
dot(vec4( -0.001533613190986216, -0.005843576975166798, 0.01666191592812538, 0.019218187779188156), MODEL1_texOff(vec2(-1,2)))+
dot(vec4( 0.03759433701634407, -0.17456114292144775, -0.021188223734498024, -0.007146090734750032), MODEL1_texOff(vec2(0,2)))+
dot(vec4( 0.002393159782513976, -0.09354306012392044, -0.0010048783151432872, -0.027740711346268654), MODEL1_texOff(vec2(1,2)))+
dot(vec4( 0.012759276665747166, 0.0009602257632650435, 0.0007121768430806696, 0.004812258295714855), MODEL1_texOff(vec2(2,2)));
res[3] +=
dot(vec4( 0.0171121247112751, -0.004185892641544342, 0.0022247093729674816, -0.0030292377341538668), MODEL1_texOff(vec2(-1,-1)))+
dot(vec4( -0.0023601974826306105, -0.0007961498340591788, 0.0012496440904214978, -3.2657153496984392e-06), MODEL1_texOff(vec2(0,-1)))+
dot(vec4( 0.05996205657720566, -0.005209560040384531, 0.000514299375936389, 0.001995981205254793), MODEL1_texOff(vec2(1,-1)))+
dot(vec4( -0.005279895383864641, -0.0022920032497495413, 0.0017878890503197908, 0.008354798890650272), MODEL1_texOff(vec2(2,-1)))+
dot(vec4( 0.008182615041732788, -0.0022476790472865105, -0.007007424253970385, 0.004160203039646149), MODEL1_texOff(vec2(-1,0)))+
dot(vec4( 0.13645675778388977, -0.021100357174873352, -0.052451372146606445, 0.024650905281305313), MODEL1_texOff(vec2(0,0)))+
dot(vec4( 0.4090234637260437, 0.04452089965343475, 0.044806450605392456, 0.027474327012896538), MODEL1_texOff(vec2(1,0)))+
dot(vec4( -0.012652556411921978, -0.043128397315740585, -0.004783023614436388, 0.013145819306373596), MODEL1_texOff(vec2(2,0)))+
dot(vec4( 0.017690308392047882, 0.0009065812919288874, -0.01274616178125143, -0.0011979428818449378), MODEL1_texOff(vec2(-1,1)))+
dot(vec4( 0.1537104845046997, 0.10051616281270981, 0.011128036305308342, -0.052866581827402115), MODEL1_texOff(vec2(0,1)))+
dot(vec4( 0.4627317786216736, 0.48580217361450195, 0.09021320939064026, -0.03223962336778641), MODEL1_texOff(vec2(1,1)))+
dot(vec4( 0.07328783720731735, -0.06601149588823318, -0.006118981167674065, -0.025717338547110558), MODEL1_texOff(vec2(2,1)))+
dot(vec4( -0.0020712194964289665, -0.010841005481779575, 0.010240194387733936, 0.00827372819185257), MODEL1_texOff(vec2(-1,2)))+
dot(vec4( 0.005780316423624754, -0.04414067044854164, -0.0005693102721124887, -0.003885015845298767), MODEL1_texOff(vec2(0,2)))+
dot(vec4( 0.0489269457757473, -0.1551695317029953, 0.01902150735259056, -0.013952621258795261), MODEL1_texOff(vec2(1,2)))+
dot(vec4( 0.004420773591846228, -0.05020026117563248, -0.002857144922018051, 0.0019333555828779936), MODEL1_texOff(vec2(2,2)));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC sub-pixel convolution 2
//!BIND MODEL2
//!SAVE MODEL2
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(0);
res[0] +=
dot(vec4( -0.004265362862497568, 0.0035694045946002007, -0.0016638324595987797, 0.0023632938973605633), MODEL2_texOff(vec2(-2,-2)))+
dot(vec4( 0.003186231479048729, -0.0006313333287835121, -0.0023283131886273623, -0.00043021424789913), MODEL2_texOff(vec2(-1,-2)))+
dot(vec4( -0.005678480491042137, 0.016550030559301376, -0.007595350034534931, 0.010139833204448223), MODEL2_texOff(vec2(0,-2)))+
dot(vec4( -0.008839617483317852, 0.013484246097505093, -0.0022840772289782763, 0.002104731509461999), MODEL2_texOff(vec2(1,-2)))+
dot(vec4( 0.002042206237092614, 0.0017440144438296556, -0.0003662588133011013, -0.0011004573898389935), MODEL2_texOff(vec2(2,-2)))+
dot(vec4( 0.010608283802866936, -0.0011555661913007498, 0.0011275399010628462, 0.0002192112588090822), MODEL2_texOff(vec2(-2,-1)))+
dot(vec4( -0.009813361801207066, 0.00825433898717165, -0.0010334093822166324, 0.010098536498844624), MODEL2_texOff(vec2(-1,-1)))+
dot(vec4( 0.028218749910593033, -0.1383998543024063, 0.002996507566422224, -0.043152932077646255), MODEL2_texOff(vec2(0,-1)))+
dot(vec4( 0.01574350707232952, 0.009375616908073425, 0.013989515602588654, -0.0049871476367115974), MODEL2_texOff(vec2(1,-1)))+
dot(vec4( -0.0095532750710845, -0.018013564869761467, -0.001389149110764265, -0.0007909352425485849), MODEL2_texOff(vec2(2,-1)))+
dot(vec4( -0.012289865873754025, -0.004703767132014036, -0.003996747080236673, -0.01029654499143362), MODEL2_texOff(vec2(-2,0)))+
dot(vec4( 0.022856352850794792, 0.035765040665864944, 0.024479322135448456, 0.0034001325257122517), MODEL2_texOff(vec2(-1,0)))+
dot(vec4( -0.15696588158607483, 0.05598070099949837, -0.035049621015787125, -0.025346726179122925), MODEL2_texOff(vec2(0,0)))+
dot(vec4( 0.06465020775794983, 0.08580974489450455, -0.012226168997585773, 0.0915689542889595), MODEL2_texOff(vec2(1,0)))+
dot(vec4( -0.008415278978645802, -0.007344086654484272, -0.006439222022891045, -0.009179719723761082), MODEL2_texOff(vec2(2,0)))+
dot(vec4( -0.013038045726716518, 0.0048291957937181, -0.0008130724891088903, 0.0019737333059310913), MODEL2_texOff(vec2(-2,1)))+
dot(vec4( 0.023674724623560905, -0.008511495776474476, 0.006561565212905407, 0.014593234285712242), MODEL2_texOff(vec2(-1,1)))+
dot(vec4( 0.049515508115291595, -0.012318361550569534, -0.051607657223939896, -0.018231209367513657), MODEL2_texOff(vec2(0,1)))+
dot(vec4( -0.012691192328929901, -0.03480231389403343, 0.07623881101608276, -0.015537729486823082), MODEL2_texOff(vec2(1,1)))+
dot(vec4( -0.011005494743585587, -6.538502202602103e-05, -0.013899007812142372, -0.008055023849010468), MODEL2_texOff(vec2(2,1)))+
dot(vec4( -0.004486120771616697, -0.0007103037787601352, 0.001051172730512917, -0.0017166847828775644), MODEL2_texOff(vec2(-2,2)))+
dot(vec4( -0.0060666995123028755, 0.0016392689431086183, 0.0031675759237259626, 0.005652014631778002), MODEL2_texOff(vec2(-1,2)))+
dot(vec4( -0.0017451599705964327, -0.0009272242896258831, -0.0019363067112863064, -0.002343065571039915), MODEL2_texOff(vec2(0,2)))+
dot(vec4( -0.008931967429816723, 0.007289333269000053, -0.003401902038604021, 0.006243170239031315), MODEL2_texOff(vec2(1,2)))+
dot(vec4( -0.00037084336508996785, -9.14494667085819e-05, 0.003700452158227563, -0.0011640273733064532), MODEL2_texOff(vec2(2,2)));
res[1] +=
dot(vec4( -0.0006371184135787189, 0.0012710681185126305, -0.0038136113435029984, 0.0010724663734436035), MODEL2_texOff(vec2(-1,-2)))+
dot(vec4( 0.0005817367346026003, 0.008950787596404552, -0.0021271773148328066, 0.008005562238395214), MODEL2_texOff(vec2(0,-2)))+
dot(vec4( -0.014090056531131268, 0.02025173418223858, -0.010630613192915916, 0.008927734568715096), MODEL2_texOff(vec2(1,-2)))+
dot(vec4( 0.006920979358255863, 0.005906802602112293, -0.004818255547434092, -0.004297775216400623), MODEL2_texOff(vec2(2,-2)))+
dot(vec4( 0.00731136417016387, -0.006320024374872446, -0.001619274145923555, 0.002423091558739543), MODEL2_texOff(vec2(-1,-1)))+
dot(vec4( 0.01616310328245163, -0.01716003194451332, 0.002106975531205535, -0.011333655565977097), MODEL2_texOff(vec2(0,-1)))+
dot(vec4( 0.00331257376819849, -0.06919586658477783, 0.015973227098584175, -0.015603582374751568), MODEL2_texOff(vec2(1,-1)))+
dot(vec4( 0.0015201519709080458, -0.05266931653022766, 0.005968647077679634, -0.005291913170367479), MODEL2_texOff(vec2(2,-1)))+
dot(vec4( 0.0012242458760738373, 0.0046585435047745705, -0.0004165348073001951, -0.00448709586635232), MODEL2_texOff(vec2(-1,0)))+
dot(vec4( -0.06745228916406631, -0.011114006862044334, 0.0014284471981227398, -0.03422459214925766), MODEL2_texOff(vec2(0,0)))+
dot(vec4( 0.008638586848974228, 0.20763525366783142, 0.05968117341399193, 0.10371065884828568), MODEL2_texOff(vec2(1,0)))+
dot(vec4( -0.02982846274971962, -0.014692896977066994, -0.09393516182899475, -0.021996796131134033), MODEL2_texOff(vec2(2,0)))+
dot(vec4( 0.003926172386854887, -0.006563854403793812, -0.0009431091602891684, 0.004583879839628935), MODEL2_texOff(vec2(-1,1)))+
dot(vec4( -0.004930458497256041, 0.02512754686176777, -0.0033206664957106113, 0.00824174378067255), MODEL2_texOff(vec2(0,1)))+
dot(vec4( 0.059850919991731644, -0.06600771099328995, 0.030399339273571968, -0.03190046548843384), MODEL2_texOff(vec2(1,1)))+
dot(vec4( -0.01806684024631977, -0.016073668375611305, -0.02179257944226265, -0.012502675876021385), MODEL2_texOff(vec2(2,1)))+
dot(vec4( 0.002243529073894024, -0.0002514215011615306, 0.001774171949364245, 0.0017025239067152143), MODEL2_texOff(vec2(-1,2)))+
dot(vec4( -0.012867888435721397, -0.0006623346707783639, -0.0007849070243537426, 0.0007407409721054137), MODEL2_texOff(vec2(0,2)))+
dot(vec4( -0.008089067414402962, 0.004767885431647301, -0.0015801117988303304, 0.0032537770457565784), MODEL2_texOff(vec2(1,2)))+
dot(vec4( -0.007418343797326088, 0.005604213569313288, 0.0008687858935445547, 0.002112885005772114), MODEL2_texOff(vec2(2,2)));
res[2] +=
dot(vec4( 0.00044394267024472356, -0.0005119273555465043, -0.0024463594891130924, 0.00037322661955840886), MODEL2_texOff(vec2(-2,-1)))+
dot(vec4( 0.0009715891792438924, -0.0011630769586190581, 0.0013746846234425902, -0.00547670666128397), MODEL2_texOff(vec2(-1,-1)))+
dot(vec4( 0.002755960449576378, -0.01879124902188778, 0.004420156590640545, -0.007007543463259935), MODEL2_texOff(vec2(0,-1)))+
dot(vec4( -0.0023591937497258186, -0.0052777244709432125, 0.007606166880577803, 0.00024234195007011294), MODEL2_texOff(vec2(1,-1)))+
dot(vec4( 0.0014871048042550683, -0.0040763625875115395, -0.0007228606264106929, -0.0037308784667402506), MODEL2_texOff(vec2(2,-1)))+
dot(vec4( 0.0032483222894370556, -0.001238268450833857, -0.0024047009646892548, -0.00546736316755414), MODEL2_texOff(vec2(-2,0)))+
dot(vec4( 0.0034179554786533117, 0.030945956707000732, 0.006467890460044146, 0.01841828227043152), MODEL2_texOff(vec2(-1,0)))+
dot(vec4( -0.05907922610640526, 0.025297194719314575, -0.008623909205198288, 0.004200735129415989), MODEL2_texOff(vec2(0,0)))+
dot(vec4( 0.007480884436517954, 0.11823451519012451, -0.04624592885375023, 0.03193937614560127), MODEL2_texOff(vec2(1,0)))+
dot(vec4( -0.012504045851528645, -0.017225515097379684, 0.00031337246764451265, -0.008656174875795841), MODEL2_texOff(vec2(2,0)))+
dot(vec4( -0.011033987626433372, 0.004382591228932142, -0.0018806814914569259, -0.002328316681087017), MODEL2_texOff(vec2(-2,1)))+
dot(vec4( 0.02731129340827465, 0.012286101467907429, 0.025161582976579666, 0.021707788109779358), MODEL2_texOff(vec2(-1,1)))+
dot(vec4( 0.020162925124168396, -0.13764889538288116, -0.0806436836719513, -0.12113692611455917), MODEL2_texOff(vec2(0,1)))+
dot(vec4( 0.07567013800144196, -0.05994950979948044, 0.15771295130252838, 0.026262646540999413), MODEL2_texOff(vec2(1,1)))+
dot(vec4( -0.011333585716784, -0.004967535380274057, -0.017349714413285255, -0.005661613307893276), MODEL2_texOff(vec2(2,1)))+
dot(vec4( -0.0014416876947507262, 0.002012902405112982, 0.0013815907295793295, 0.00399800343438983), MODEL2_texOff(vec2(-2,2)))+
dot(vec4( 0.001088550896383822, -0.001564294332638383, -0.004752526991069317, 0.0023896978236734867), MODEL2_texOff(vec2(-1,2)))+
dot(vec4( -0.009473768062889576, 0.03697183355689049, -0.005615638103336096, 0.02408355288207531), MODEL2_texOff(vec2(0,2)))+
dot(vec4( -0.020663205534219742, 0.02576909027993679, -0.013438253663480282, 0.022242970764636993), MODEL2_texOff(vec2(1,2)))+
dot(vec4( -0.0025465216021984816, 0.0031531844288110733, -0.0036454100627452135, -0.0014373621670529246), MODEL2_texOff(vec2(2,2)));
res[3] +=
dot(vec4( 0.002951762406155467, 0.0009819932747632265, -0.005827740766108036, -0.0020099529065191746), MODEL2_texOff(vec2(-1,-1)))+
dot(vec4( 0.0024617614690214396, -0.004550652112811804, 0.004262140486389399, -0.002831613179296255), MODEL2_texOff(vec2(0,-1)))+
dot(vec4( -0.00795822311192751, -0.0012356801889836788, 0.01137495320290327, -0.002806747565045953), MODEL2_texOff(vec2(1,-1)))+
dot(vec4( 0.006980358622968197, -0.019634587690234184, -0.0004412597627379, -0.004805444274097681), MODEL2_texOff(vec2(2,-1)))+
dot(vec4( 0.005157793872058392, 0.008183497004210949, -0.00022567085397895426, 0.005711724516004324), MODEL2_texOff(vec2(-1,0)))+
dot(vec4( 0.0009118758607655764, -0.01984805427491665, -0.0042563132010400295, 0.002326317597180605), MODEL2_texOff(vec2(0,0)))+
dot(vec4( -0.05222352594137192, 0.19306479394435883, -0.024401867762207985, 0.05963576212525368), MODEL2_texOff(vec2(1,0)))+
dot(vec4( -0.01893158257007599, -0.03779877722263336, -0.008662211708724499, -0.017366601154208183), MODEL2_texOff(vec2(2,0)))+
dot(vec4( 0.0007092540035955608, -0.007588913198560476, 0.0034357013646513224, 0.000578136183321476), MODEL2_texOff(vec2(-1,1)))+
dot(vec4( -0.03543485328555107, 0.020942322909832, -0.004102929495275021, -0.043015629053115845), MODEL2_texOff(vec2(0,1)))+
dot(vec4( 0.17026790976524353, -0.16642503440380096, 0.13422891497612, -0.030409516766667366), MODEL2_texOff(vec2(1,1)))+
dot(vec4( -0.030550863593816757, -0.018568744882941246, -0.07512173056602478, -0.02013271115720272), MODEL2_texOff(vec2(2,1)))+
dot(vec4( 0.008249872364103794, 0.0007028288673609495, -0.0005868213484063745, 0.004316881764680147), MODEL2_texOff(vec2(-1,2)))+
dot(vec4( -0.02026670053601265, 0.0001616818190086633, -0.0031069768592715263, 0.007740123197436333), MODEL2_texOff(vec2(0,2)))+
dot(vec4( -0.027748148888349533, 0.04882403463125229, -0.014077577739953995, 0.03211516514420509), MODEL2_texOff(vec2(1,2)))+
dot(vec4( 0.002900027437135577, 0.009653338231146336, -0.01753905415534973, -0.0012930074008181691), MODEL2_texOff(vec2(2,2)));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!WIDTH LUMA.w 2 *
//!HEIGHT LUMA.h 2 *
//!DESC aggregation
//!BIND MODEL1
//!BIND MODEL2
//!OFFSET -1.0 -1.0
vec4 hook()
{
float res = 0.0270088;
vec2 fcoord = fract(MODEL1_pos * MODEL1_size);
vec2 base = MODEL1_pos + (vec2(0.5) - fcoord) * MODEL1_pt;
ivec2 index = ivec2(fcoord * vec2(2));
res += (MODEL1_tex(base)+MODEL2_tex(base))[index.y * 2 + index.x];
return vec4(res, 0, 0, 1);
}
